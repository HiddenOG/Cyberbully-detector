<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Paste & Detect - CyberShield</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="bg-light">

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand fw-bold" href="/">CyberShield</a>
            <div class="d-flex gap-2">
                <a class="btn btn-light btn-sm" href="/">Home</a>
                <a class="btn btn-light btn-sm" href="/paste">Paste</a>
                <a class="btn btn-light btn-sm" href="/chatbot">Chatbot</a>
                <a class="btn btn-light btn-sm" href="/facebook">Facebook</a>
                <a class="btn btn-light btn-sm" href="/facebook/live">Feed</a>
                <a class="btn btn-light btn-sm" href="/actions">Actions</a>
                <a class="btn btn-light btn-sm" href="/help">Help</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container py-5">
        <h1 class="text-center mb-4">Cyberbullying & Terrorism Detector</h1>

        <!-- Comment Input Form -->
        <form method="POST" action="/paste" class="card p-4 shadow-sm">
            <textarea name="comment" rows="5" class="form-control mb-3" placeholder="Paste or type a comment here..." required></textarea>
            <button type="submit" class="btn btn-primary w-100">Check Comment</button>
        </form>

        <!-- Detection Results -->
        {% if result %}
        <div class="card p-4 shadow-sm mt-4 
                    {% if result.status == 'flagged' %}border-danger{% else %}border-success{% endif %}">
            <h3 class="mb-3">Detection Result</h3>

            <!-- Status -->
            <p><strong>Status:</strong> 
                <span class="badge {% if result.status == 'flagged' %}bg-danger{% else %}bg-success{% endif %}">
                    {{ result.status|capitalize }}
                </span>
            </p>

            <p><strong>Decision Source:</strong> {{ result.decision_source }}</p>
            <p><strong>Flagged Words:</strong> {{ result.bad_word_flags if result.bad_word_flags else 'None' }}</p>

            <!-- Toxic-BERT Analysis -->
            <h5 class="mt-3">Toxic-BERT</h5>
            <p>Label: {{ result.bert_label }} (Confidence: {{ result.bert_confidence }})</p>

            <!-- Detoxify Analysis -->
            <h5 class="mt-3">Detoxify</h5>
            <p>Top Label: {{ result.detoxify_top }} (Confidence: {{ result.detoxify_confidence }})</p>
            <pre class="bg-light p-2 rounded small">{{ result.detoxify_scores }}</pre>

            <!-- Recommended Actions -->
            {% if result.status == 'flagged' %}
            <div class="alert alert-warning mt-3">
                This comment has been flagged. <a href="/actions" class="alert-link">View recommended actions</a> to handle cyberbullying or terrorism content.
            </div>
            {% endif %}
        </div>
        {% endif %}

    </div>
</body>
</html>




